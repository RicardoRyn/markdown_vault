# å®‰è£…
rustæ˜¯ä¸€ä¸ªé™æ€ç¼–è¯‘è¯­è¨€ï¼Œpythonæ˜¯ä¸€ä¸ªåŠ¨æ€è§£é‡Šå‹è¯­è¨€ã€‚

cargoï¼šåŒ…ç®¡ç†å™¨ã€‚
rustupï¼šå·¥å…·é“¾ç®¡ç†å™¨ã€‚
rustcï¼šç¼–è¯‘å™¨ã€‚
rust-analyzerã€clippyï¼šä»£ç æ£€æŸ¥ã€‚
rustfmtï¼šä»£ç æ ¼å¼åŒ–ã€‚

æ›´æ–°rustï¼š

```bash
rustup update
```

æ£€æŸ¥å®‰è£…ï¼š

```bash
rustc --version
```

æœ¬åœ°æ–‡æ¡£ï¼Œå¯ç¦»çº¿é˜…è¯»ï¼š

```bash
rustup doc
```

æ–°å»ºé¡¹ç›®åº“ï¼š

```bash
cargo new hello_cargo
```

`Cargo.toml`æ–‡ä»¶ï¼š

```toml
[package]  # sectionçš„æ ‡é¢˜ï¼Œè¡¨æ˜ä¸‹é¢è¯­å¥ç”¨æ¥é…ç½®ä¸€ä¸ªåŒ…
name = "hello_cargo"  # é¡¹ç›®åç§°
version = "0.1.0"  # é¡¹ç›®ç‰ˆæœ¬
edition = "2024"  # rustçš„ç‰ˆæœ¬

[dependencies]
```

> å¯¹äºå·²æœ‰çš„rusté¡¹ç›®ï¼š
> `cargo init`  # ä¼šè‡ªåŠ¨åˆ›å»º Cargo.tomlç­‰æ–‡ä»¶ã€‚

é¡¹ç›®æ ¹ç›®å½•ä¸‹æ„å»ºé¡¹ç›®ï¼š

```bash
cargo build  # åœ¨ target/debug ä¸‹ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
```

ä¹Ÿå¯ä»¥æ„å»ºå¹¶ç›´æ¥è¿è¡Œé¡¹ç›®ï¼š

```bash
cargo run  # å¤§å¤šæ•°äººéƒ½ä¼šç›´æ¥cargo run
```

æ£€æŸ¥ä»£ç ç¡®ä¿å…¶å¯ä»¥ç¼–è¯‘ï¼Œä½†æ˜¯ä¸ç¼–è¯‘ï¼ˆçœå»äº†ç¼–è¯‘å¯æ‰§è¡Œæ–‡ä»¶æ­¥éª¤ï¼Œå¿«å¾ˆå¤šï¼‰ï¼š

```bash
cargo check
```

> å®šæœŸæ‰§è¡Œ`cargo check`ï¼Œç¡®ä¿ä»£ç å¯ç¼–è¯‘ï¼Œå…»æˆå¥½ä¹ æƒ¯ã€‚

æœ€ç»ˆç¼–è¯‘releaseç‰ˆæœ¬ï¼š

```bash
# ä¼˜ç‚¹ï¼Œç¨‹åºè¿è¡Œæ›´å¿«
# ç¼ºç‚¹ï¼Œç¼–è¯‘æ—¶é—´æ›´é•¿
cargo build --release  # åœ¨ target/release ä¸‹ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
```

> `cargo build` é€‚ç”¨äºå¼€å‘é˜¶æ®µé¢‘ç¹ç¼–è¯‘ã€‚
> 
> `cargo build --release` é€‚ç”¨äºä¸ºç”¨æˆ·æ„å»ºæœ€ç»ˆç¨‹åºã€‚

# å¸¸è§æ¦‚å¿µ

## å˜é‡å’Œå¯å˜æ€§

### å˜é‡

å˜é‡æ˜¯ä¸å¯å˜çš„ immutable, 
å½“å˜é‡ä¸å¯å˜æ—¶ï¼Œä¸€æ—¦å€¼è¢«ç»‘å®šä¸€ä¸ªåç§°ä¸Šï¼Œä½ å°±ä¸èƒ½æ”¹å˜è¿™ä¸ªå€¼ã€‚

ä½¿ç”¨ `mut` å¯ä»¥å£°æ˜ä¸€ä¸ªå¯å˜å˜é‡ã€‚

```rust
let x = 5
let mut x = 5
```

### å¸¸é‡

ä¸å…è®¸å¯¹ **å¸¸é‡** ä½¿ç”¨ `mut`ã€‚å¸¸é‡ä¸å…‰é»˜è®¤ä¸å¯å˜ï¼Œå®ƒæ€»æ˜¯ä¸å¯å˜ã€‚å¹¶ä¸” å¿…é¡» æ³¨æ˜å€¼çš„ç±»å‹ã€‚

å¸¸é‡å¯ä»¥åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­å£°æ˜ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸã€‚

å¸¸é‡åªèƒ½è¢«è®¾ä¸º**å¸¸é‡è¡¨è¾¾å¼**ï¼Œè€Œä¸èƒ½æ˜¯é‚£äº›å¿…é¡»åœ¨è¿è¡Œæ—¶æ‰èƒ½è®¡ç®—å‡ºçš„å€¼ã€‚ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶èƒ½å¤„ç†ä¸€éƒ¨åˆ†æœ‰é™çš„è¿ç®—ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨æ›´ç›´è§‚ã€æ˜“è¯»çš„æ–¹å¼æ¥å†™å¸¸é‡çš„å®šä¹‰ï¼Œè€Œä¸ç”¨ç›´æ¥æŠŠå®ƒå†™æˆä¸€ä¸ªåƒ 10,800 è¿™æ ·çš„å…·ä½“æ•°å­—ã€‚

```rust
const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 *3
```

> Rust å¯¹å¸¸é‡çš„å‘½åçº¦å®šæ˜¯åœ¨å•è¯ä¹‹é—´ä½¿ç”¨å…¨å¤§å†™åŠ ä¸‹åˆ’çº¿ã€‚

### é®è”½

å¯ä»¥å®šä¹‰ä¸€ä¸ªä¸**ä¹‹å‰å˜é‡**åŒåçš„**æ–°å˜é‡**ã€‚
Rustacean ä»¬ç§°ä¹‹ä¸ºç¬¬ä¸€ä¸ªå˜é‡è¢«ç¬¬äºŒä¸ª **é®è”½ï¼ˆShadowingï¼‰** äº†ã€‚

> å½“ä½¿ç”¨**å¯å˜å˜é‡**æ—¶ï¼Œåç»­ä¿®æ”¹å˜é‡çš„æ—¶å€™å¯ä»¥æ²¡æœ‰`let`å…³é”®å­—ã€‚
> ä½†æ˜¯å¦‚æœæ˜¯**é®è”½**æ—§å˜é‡ï¼Œåˆ™å¿…é¡»ä½¿ç”¨`let`å…³é”®å­—ã€‚
> 
> **å¯å˜å˜é‡**ä¸**é®è”½**çš„å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œå½“å†æ¬¡ä½¿ç”¨ let æ—¶ï¼Œå®é™…ä¸Šåˆ›å»ºäº†ä¸€ä¸ªæ–°å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜å€¼çš„ç±»å‹ï¼Œå¹¶ä¸”å¤ç”¨è¿™ä¸ªåå­—ã€‚

## æ•°æ®ç±»å‹

åœ¨ Rust ä¸­ï¼Œæ¯ä¸€ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªç‰¹å®š æ•°æ®ç±»å‹ï¼ˆdata typeï¼‰ï¼Œè¿™å‘Šè¯‰ Rust å®ƒè¢«æŒ‡å®šä¸ºä½•ç§æ•°æ®ï¼Œä»¥ä¾¿æ˜ç¡®æ•°æ®å¤„ç†æ–¹å¼ã€‚

 é™æ€ç±»å‹ï¼ˆstatically typedï¼‰è¯­è¨€åœ¨ç¼–è¯‘æ—¶å°±å¿…é¡»çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹ã€‚

### æ ‡é‡ç±»å‹

**æ ‡é‡ï¼ˆscalarï¼‰**ç±»å‹ä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„å€¼:
1. æ•´å‹
2. æµ®ç‚¹å‹
3. å¸ƒå°”ç±»å‹
4. å­—ç¬¦ç±»å‹

#### æ•´å‹

é»˜è®¤ä¸º`i32`ã€‚

| é•¿åº¦      | æœ‰ç¬¦å·   | æ— ç¬¦å·   |
| ------- | ----- | ----- |
| 8-bit   | i8    | u8    |
| 16-bit  | i16   | u16   |
| 32-bit  | i32   | u32   |
| 64-bit  | i64   | u64   |
| 128-bit | i128  | u128  |
| æ¶æ„ç›¸å…³    | isize | usize |

> `isize` å’Œ `usize` ç±»å‹ä¾èµ–è¿è¡Œç¨‹åºçš„è®¡ç®—æœºæ¶æ„ï¼š64 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 64 ä½çš„ï¼Œ32 ä½æ¶æ„ä¸Šå®ƒä»¬æ˜¯ 32 ä½çš„ã€‚

#### æµ®ç‚¹å‹

åªæœ‰`f32`**å•ç²¾åº¦æµ®ç‚¹**å’Œ`f64`**åŒç²¾åº¦æµ®ç‚¹**ï¼Œé»˜è®¤ä¸º`u64`ã€‚
æ‰€æœ‰çš„æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„ã€‚

#### å¸ƒå°”ç±»å‹

rustä¸­æ˜¯`true`ï¼Œpythonä¸­æ˜¯`True`ã€‚

```rust
fn main() {
    let t = true;

    let f: bool = false; // with explicit type annotation
}
```

#### å­—ç¬¦ä¸²ç±»å‹

rustä¸­å•å¼•å·å’ŒåŒå¼•å·çš„å«ä¹‰ä¸åŒï¼š
1. `let c = 'z';` çš„ç±»å‹æ˜¯ `char`ï¼ˆå•ä¸ªå­—ç¬¦ï¼Œ4å­—èŠ‚ï¼‰ã€‚
2. `let c = "zz";` çš„ç±»å‹æ˜¯ `&str`ï¼ˆå­—ç¬¦ä¸²åˆ‡ç‰‡ï¼ŒæŒ‡å‘ä¸€æ®µå†…å­˜é‡Œçš„å­—èŠ‚æ•°ç»„ï¼‰ã€‚

```rust
fn main() {
    let x = 'z';
    let y: char = 'â„¤'; // with explicit type annotation
    let z: &str = "â„¤â„¤"; // with explicit type annotation
    let heart_eyed_cat = 'ğŸ˜»';
}
```

### å¤åˆç±»å‹

å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rust æœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼š
1. å…ƒç»„ï¼ˆtupleï¼‰
2. æ•°ç»„ï¼ˆarrayï¼‰

#### å…ƒç»„

å…ƒç»„**é•¿åº¦å›ºå®š**ã€‚å…ƒç´ ç±»å‹**å¯ä»¥ä¸åŒ**ã€‚

```rust
fn main() {
    let tup = (500, 6.4, 1);
}
```

å…ƒç»„çš„**æ‰“å°**ï¼š

```rust
fn main() {
    let tup = (500, 6.4, 1);
    // println!("{tup}"); // ç›´æ¥æ‰“å°ä¼šæŠ¥é”™ println!("{:?}", tup)
	
    println!("{tup:?}");
    println!("{tup:#?}"); // æ‰“å°åœ°æ›´å¥½çœ‹
	
    println!("{:?}", tup);
    println!("{:#?}", tup); // æ‰“å°åœ°æ›´å¥½çœ‹
}
```

å…ƒç»„çš„**è§£æ„**ï¼š

```rust
fn main() {
    let tup = (500, 6.4, 1);
	let (x, y, z) = tup;
	println!("{x} {y} {z}");
}
```

å…ƒç»„çš„**ç±»å‹æ ‡æ³¨**ï¼š

```rust
fn main() {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
}
```

å…ƒç»„çš„**ç´¢å¼•**ï¼š

```rust
fn main() {
    let x: (i32, f64, u8) = (500, 6.4, 1);
	
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
	
	println!("{} {} {}", five_hundred, six_point_four, one);
}
```

> ä¸å¸¦ä»»ä½•å€¼çš„å…ƒç»„æœ‰ä¸ªç‰¹æ®Šçš„åç§°ï¼Œå«åš **å•å…ƒï¼ˆunitï¼‰ å…ƒç»„**ã€‚
> è¿™ç§å€¼ä»¥åŠå¯¹åº”çš„ç±»å‹éƒ½å†™ä½œ `()`ï¼Œè¡¨ç¤ºç©ºå€¼æˆ–ç©ºçš„è¿”å›ç±»å‹ã€‚
> å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚

#### æ•°ç»„

Rust ä¸­çš„æ•°ç»„é•¿åº¦ä¹Ÿæ˜¯**å›ºå®šçš„**ã€‚

æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹**å¿…é¡»ç›¸åŒ**ã€‚

> `vector` ç±»å‹æ˜¯æ ‡å‡†åº“æä¾›çš„ä¸€ä¸ª å…è®¸ å¢é•¿å’Œç¼©å°é•¿åº¦çš„ç±»ä¼¼æ•°ç»„çš„é›†åˆç±»å‹ã€‚
> 
> å½“ä¸ç¡®å®šæ˜¯åº”è¯¥ä½¿ç”¨æ•°ç»„è¿˜æ˜¯ `vector` çš„æ—¶å€™ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½åº”è¯¥ä½¿ç”¨ `vector`ã€‚

**ç‰¹æ®Šæ•°ç»„**ï¼š

```rust
let a = [3; 5];
println!("{a:?}"); // [3, 3, 3, 3, 3]
```

æ•°ç»„çš„**æ‰“å°**ï¼š

```rust
let arr = [1, 2, 3, 4, 5];
// println!("{arr}"); // ç›´æ¥æ‰“å°ä¼šæŠ¥é”™ println!("{:?}", arr)

println!("{arr:?}");
println!("{arr:#?}"); // æ‰“å°åœ°æ›´å¥½çœ‹

println!("{:?}", arr);
println!("{:#?}", arr); // æ‰“å°åœ°æ›´å¥½çœ‹
```

æ•°ç»„çš„**è§£æ„**ï¼š

```rust
let arr = [1, 2, 3];
let [x, y, z] = arr;
println!("{x} {y} {z}");
```

æ•°ç»„çš„**ç±»å‹æ ‡æ³¨**ï¼š
```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
let monthes: [&str; 12] = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
```

æ•°ç»„çš„**è®¿é—®**ï¼ˆä¸åŒä¸å…ƒç»„çš„ç´¢å¼•ã€‚ç±»ä¼¼ä¸pythonçš„ç´¢å¼•ï¼‰ï¼š

```rust
fn main() {
    let x = [1, 2, 3, 4];
	
    let a = x[0];
    let b = x[1];
    let c = x[2];
    let d = x[3];
    println!("{a} {b} {c} {d}");

}
```

## å‡½æ•°

```rust
fn main() {
    println!("Hello, world!");
    annother_function();
}

fn annother_function() {
    println!("Annother function.");
}
```

> æºç ä¸­ `another_function` å®šä¹‰åœ¨ `main` å‡½æ•° ä¹‹åï¼›ä¹Ÿå¯ä»¥å®šä¹‰åœ¨ä¹‹å‰ã€‚
> Rust ä¸å…³å¿ƒå‡½æ•°å®šä¹‰æ‰€åœ¨çš„ä½ç½®ï¼Œåªè¦å‡½æ•°è¢«è°ƒç”¨æ—¶å‡ºç°åœ¨è°ƒç”¨ä¹‹å¤„å¯è§çš„ä½œç”¨åŸŸå†…å°±è¡Œã€‚

### å‚æ•°

**å‚æ•°**ï¼ˆparametersï¼‰çš„å‡½æ•°ï¼Œå‚æ•°æ˜¯ç‰¹æ®Šå˜é‡ï¼Œæ˜¯å‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ï¼š
1. å½¢å‚ï¼šå‡½æ•°æ‹¥æœ‰å‚æ•°ï¼Œparametersã€‚
2. å®å‚ï¼šä¸ºè¿™äº›å‚æ•°æä¾›å…·ä½“çš„å€¼ï¼Œargumentsã€‚

> æ—¥å¸¸äº¤æµä¸­ï¼Œäººä»¬å€¾å‘äºä¸åŒºåˆ†ä½¿ç”¨ parameter å’Œ argument æ¥è¡¨ç¤ºå‡½æ•°å®šä¹‰ä¸­çš„å˜é‡æˆ–è°ƒç”¨å‡½æ•°æ—¶ä¼ å…¥çš„å…·ä½“å€¼ã€‚

åœ¨å‡½æ•°ç­¾åä¸­ï¼Œ***å¿…é¡»*** å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚

```rust
fn main() {
    println!("Hello, world!");

    print_labeled_measurement(5, 'h');
}

fn print_labeled_measurement(value: i32, unit_label: char) {
    println!("The measurement is: {value} {unit_label}");
}
```

### è¯­å¥å’Œè¡¨è¾¾å¼

- **è¯­å¥**ï¼ˆStatementsï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚
- **è¡¨è¾¾å¼**ï¼ˆExpressionsï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚

```rust
fn main() {
    let y = 6; // è¿™æ˜¯ä¸€ä¸ªè¯­å¥
	let x = (let y = 6); // æŠ¥é”™ï¼Œå› ä¸º`let y = 6`æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œä¸ä¼šè¿”å›å€¼
	
}
```

***è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·ã€‚
å¦‚æœåœ¨è¡¨è¾¾å¼çš„ç»“å°¾åŠ ä¸Šåˆ†å·ï¼Œå®ƒå°±å˜æˆäº†è¯­å¥ï¼Œè€Œè¯­å¥ä¸ä¼šè¿”å›å€¼ã€‚***

```rust
fn main() {
    let y = {
        let x = 3;
        x + 1 // è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·
    }; // å¤–å±‚çš„`let y = {};`æ˜¯ä¸€ä¸ªè¯­å¥ï¼Œç»“å°¾éœ€è¦åˆ†å·

    println!("The value of y is: {y}");
}
```

> `{...}`è¢«ç§°ä¸ºä¸€ä¸ª**ä»£ç å—**ã€‚ä»£ç å—çš„å€¼æ˜¯å…¶æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼

### å…·æœ‰è¿”å›å€¼çš„å‡½æ•°

rust ä¸­ä¸éœ€è¦å¯¹è¿”å›å€¼å‘½åï¼Œä½† ***å¿…é¡»*** è¦åœ¨ç®­å¤´ï¼ˆ`->`ï¼‰åå£°æ˜å®ƒçš„ç±»å‹ã€‚

```rust
fn five() -> i32 {
    5 // è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·
}

fn main() {
    let x = five();

    println!("The value of x is: {x}");
}
```

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {x}");
}

fn plus_one(x: i32) -> i32 {
    x + 1
}
```

> å¦‚æœ`x + 1`æ”¹æˆ`x + 1;` åˆ™å˜æˆä¸€ä¸ªè¯­å¥ï¼Œè¯­å¥ä¸ä¼šè¿”å›å€¼ï¼Œé»˜è®¤æ˜¯`å•ä½å…ƒç»„ ()`ï¼Œæ‰€ä»¥ä¼šæŠ¥`mismatched types`çš„é”™è¯¯ã€‚

## æ§åˆ¶æµ

### if è¡¨è¾¾å¼

`if` æ˜¯**è¡¨è¾¾å¼**ï¼Œä¸æ˜¯è¯­å¥

```rust
fn main() {
    let number = 3;

    if number < 5 {
        println!("condition was true");
    } else {
        println!("condition was false");
    }
}
```

> `if` è¡¨è¾¾å¼ä¸­ä¸æ¡ä»¶å…³è”çš„ä»£ç å—æœ‰æ—¶è¢«å«åšâ€œarmsâ€ã€‚

å’Œpythonä¸åŒï¼Œä»£ç ä¸­çš„æ¡ä»¶ ***å¿…é¡»æ˜¯ bool å€¼*** ã€‚
å¦‚æœæ¡ä»¶ä¸æ˜¯ bool å€¼ï¼Œä¼šæŠ¥é”™ã€‚

```rust
// error[E0308]: mismatched types
fn main() {
    let number = 3;

    if number {
        println!("number is three");
    }
}
```

```rust
fn main() {
    let number = 3;

    if number != 0 {
        println!("number was something other than zero");
    }
}
```

`else if` çš„é»˜è®¤é€»è¾‘ä¹Ÿ ***å’Œpythonä¸ä¸€æ ·***ï¼š

```rust
fn main() {
    let number = 6;

    if number % 4 == 0 {
        println!("number is divisible by 4");
    } else if number % 3 == 0 {
        println!("number is divisible by 3"); // ä¼šæ‰“å°
    } else if number % 2 == 0 {
        println!("number is divisible by 2"); // ä¸ä¼šæ‰“å°å‡ºæ¥
    } else {
        println!("number is not divisible by 4, 3, or 2");
    }
}
```

> ***Rust åªä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªæ¡ä»¶ä¸º true çš„ä»£ç å—***ã€‚
> ä¸€æ—¦å®ƒæ‰¾åˆ°ä¸€ä¸ªä»¥åï¼Œéƒ½ä¸ä¼šæ£€æŸ¥å‰©ä¸‹çš„æ¡ä»¶äº†ã€‚

ä½¿ç”¨è¿‡å¤šçš„ else if è¡¨è¾¾å¼ä¼šä½¿ä»£ç æ˜¾å¾—æ‚ä¹±æ— ç« ï¼Œæ‰€ä»¥å¦‚æœæœ‰å¤šäºä¸€ä¸ª else if è¡¨è¾¾å¼ï¼Œæœ€å¥½é‡æ„ä»£ç ã€‚
åé¢ä¼šä»‹ç»ä¸€ä¸ªå¼ºå¤§çš„ Rust åˆ†æ”¯ç»“æ„ï¼ˆbranching constructï¼‰ï¼Œå«åš `match`ã€‚

å› ä¸º `if` æ˜¯ä¸€ä¸ª**è¡¨è¾¾å¼**ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `let` **è¯­å¥**çš„å³ä¾§ä½¿ç”¨å®ƒï¼š

```rust
fn main() {
    let condition = true;
    let number = if condition {5} else {6};

    println!("The value of number is: {number}")
}
```

> åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ`if` çš„æ¯ä¸ªåˆ†æ”¯çš„å¯èƒ½çš„è¿”å›å€¼éƒ½ ***å¿…é¡»æ˜¯ç›¸åŒç±»å‹***

```rust
// error[E0308]: `if` and `else` have incompatible types
fn main() {
    let condition = true;
    let number = if condition { 5 } else { "six" };

    println!("The value of number is: {number}")
}
```

### å¾ªç¯

Rust ä¸ºæ­¤æä¾›äº†å¤šç§ **å¾ªç¯**ï¼ˆ_loops_ï¼‰ï¼š
1. `loop`
2. `while` 
3. `for`

#### ä½¿ç”¨loopå¾ªç¯æ‰§è¡Œä»£ç 

```rust
// ä»¥ä¸‹ä»£ç ä¼šæ— é™å¾ªç¯ï¼Œéœ€è¦<C-c>æ‰‹åŠ¨ç»ˆæ­¢
fn main() {
    loop {
        println!("again!");
    }
}
```

#### ä»å¾ªç¯è¿”å›å€¼

`loop` çš„ä¸€ä¸ªç”¨ä¾‹æ˜¯**é‡è¯•å¯èƒ½ä¼šå¤±è´¥çš„æ“ä½œ**ï¼Œæ¯”å¦‚ï¼š
æ£€æŸ¥çº¿ç¨‹æ˜¯å¦å®Œæˆäº†ä»»åŠ¡ã€‚

ç„¶è€Œæˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å°†æ“ä½œçš„ç»“æœä¼ é€’ç»™å…¶å®ƒçš„ä»£ç ã€‚
å¯ä»¥åœ¨ç”¨äºåœæ­¢å¾ªç¯çš„ `break` è¡¨è¾¾å¼åæ·»åŠ è¿”å›å€¼ï¼š

```rust
fn main() {
    let mut counter = 0;

    let result = loop {
        counter += 1;

        if counter == 10 {
            break counter * 2;
        }
    }; // è¿™é‡Œæ˜¯`let`è¯­å¥ï¼Œè€Œä¸æ˜¯`loop`è¡¨è¾¾å¼ï¼Œæ‰€ä»¥è¦åŠ åˆ†å·

    println!("The result is: {result}");
}
```

å¦‚æœå­˜åœ¨åµŒå¥—å¾ªç¯ï¼Œ`break` å’Œ `continue` åº”ç”¨äºæ­¤æ—¶**æœ€å†…å±‚çš„å¾ªç¯**ã€‚

å¯ä»¥åœ¨ä¸€ä¸ªå¾ªç¯ä¸ŠæŒ‡å®šä¸€ä¸ª **å¾ªç¯æ ‡ç­¾**ï¼ˆloop labelï¼‰ï¼Œç„¶åä¸ `break` æˆ– `continue` ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºæ‰§è¡Œå¯¹åº”æ ‡è®°çš„å¾ªç¯ï¼š

```rust
fn main() {
    let mut count = 0;
    'counting_up: loop { // ç»™å½“å‰å¾ªç¯æŒ‡å®šæ ‡ç­¾
        println!("count = {count}");
        let mut remaining = 10;

        loop {
            println!("remaining = {remaining}");
            if remaining == 9 {
                break;
            }
            if count == 2 {
                break 'counting_up;
            }
            remaining -= 1;
        }

        count += 1;
    }
    println!("End count = {count}");
}
```

#### whileå¾ªç¯

åŒæ ·å’Œpythonä¸åŒï¼Œ`while` åçš„æ¡ä»¶ ***å¿…é¡»æ˜¯ bool å€¼*** ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

```
fn main() {
    let mut number = 3;

    while number != 0 {
        println!("{number}!");

        number -= 1;
    }

    println!("LIFTOFF!!!");
}
```

#### ä½¿ç”¨foréå†é›†åˆ

ç”¨`while`å†™ï¼ŒåğŸ˜ ï¼š

```rust
fn main() {
    let a = [10, 20, 30, 40, 50];
    let mut index = 0;

    while index < 5 {
        println!("the value is: {}", a[index]); // ä¸èƒ½å†™è¿›å¤§æ‹¬å·é‡Œ

        index += 1;
    }
}
```

ç”¨`for`å†™ï¼Œå¥½ğŸ˜Šï¼š

```rust
fn main() {
    let a = [10, 20, 30, 40, 50];

    for element in a {
        println!("the value is: {element}");
    }
}
```

`for` å¾ªç¯çš„å®‰å…¨æ€§å’Œç®€æ´æ€§ä½¿å¾—å®ƒæˆä¸º Rust ä¸­ä½¿ç”¨æœ€å¤šçš„å¾ªç¯ç»“æ„ã€‚

```rust
fn main() {
    for number in 1..6 {
        println!("{number}!");
    }
    println!("ä¸Šå±±æ‰“è€è™ï¼");

    for number in (1..4).rev() {
        println!("{number}!");
    }
    println!("LIFTOFF!!!");
}
```